<!DOCTYPE html>
<!-- base.html -->
{% load django_bootstrap5 %}
{% load static %}

<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="keywords" content="">
    <meta name="description" content="">
    <link rel="shortcut icon" type="image/png" href="{% static 'img/favicon.png' %}">
    <title>{% block title %}{% endblock title %}</title>

    <!-- Load jQuery -->
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <!-- Load plotly -->
    <script src="https://cdn.plot.ly/plotly-2.27.0.min.js"></script>
    <!-- Load django-bootstrap5 -->
    {% bootstrap_css %}
    {% bootstrap_javascript %}
    <!-- Load custom script and style -->
    <link rel="stylesheet" href="{% static 'css/modify.css' %}">
    <script src="{% static 'js/main.js' %}" defer></script>
    <script src="{% static 'js/Sortable.min.js' %}" defer></script>

    <!-- boxicons icons-->
    <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
</head>

<body>
    {% bootstrap_messages %}
    <div class="container-fluid" id="navbar">
        <div class="row d-flex">
            <div class="col-md-4">
                <h3 class="logo">
                    <span>
                        <img src="{% static 'img/favicon.png' %}" alt="Logo" width="90px">
                        Data Wizard
                    </span>
                </h3>
            </div>
            <div class="col-md-8">
                <ul class="navlinks">
                    {% if user.is_authenticated %}
                    <li><a href="{% url 'home' %}">HOME</a></li>
                    <li><a href="{% url 'upload' %}">Upload & Analyze</a></li>
                    <li class="navbarmachine" style="display: none;"><a href="{% url 'upload' %}">Machine Learning</a></li>
                    <!-- machine learning is curently disabled -->
                    <!-- href of reports need to be change to appropriate one -->
                    <li><a href="{% url 'upload' %}">Reports</a></li>
                    <li><a  href="{% url 'logout' %}">Logout</a></li>
                    <li><i class='bx bxs-moon' id="darkMode-icon"></i></li>
                    {% else %}
                    <!-- <li><a href="{% url 'login' %}">Login</a></li>
                    <li><a href="{% url 'register' %}">Register</a></li> -->
                    {% endif %}
                    <li class="icon" style="display: none;"><i class="fa-solid fa-xmark"></i></li>
                    <li class="icon" style="display: none;"><i class="fa-solid fa-bars"></i></li>
                </ul>
            </div>
        </div>
    </div>

    <div class="container">
        {% block content %}{% endblock content %}
    </div>
</body>

</html>

<!-- function to switch to light and dark mode -->
<script>
    let darkModeIcon = document.querySelector('#darkMode-icon');

darkModeIcon.onclick = () => {
    darkModeIcon.classList.toggle('bxs-sun');
    document.body.classList.toggle('dark-mode')
}
</script>
